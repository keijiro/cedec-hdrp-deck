<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' />
  <title>big</title>
  <link href='big.css' rel='stylesheet' type='text/css' />
  <link href='highlight.css' rel='stylesheet' type='text/css' />
  <style>
    .new-shiny { background: #aaaaaa; }
  </style>
  <script src='big.js'></script>
  <script src='highlight.js'></script>
  <script>hljs.initHighlightingOnLoad();</script>
</head>
<body class='dark'>
  <div><p>HDRP</p>
</div>
<div><p>HDRP<br/>とは</p>
</div>
<div><p>High<br/>Definition<br/>Render<br/>Pipeline</p>
<p><notes>最新の機能を詰め込んだ新しいレンダーパイプライン
もっと分かりやすく有り体に言ってしまえば……</notes></p>
</div>
<div><p>PS4 を<br/>ベースラインにした<br/>新しいレンダラー</p>
<p><notes>PS4 の AAA タイトルなどでよく使われているレンダリング方式をベースに</notes></p>
</div>
<div><img src="img/Features.png"/>

<p><notes>ここが便利だな、ここがおいしいな、と思ったポイントをアトランダムに紹介</notes></p>
</div>
<div><p>メリットその１<br/>ライティングが<br/>むちゃくちゃ強力</p>
<p><notes>そのうえ高速化もなされているため、パフォーマンスに影響を与えることなく凝ったライティング演出を構築することが可能に</notes></p>
</div>
<div><p>FPTL</p>
</div>
<div><p>Fine<br/>Pruned<br/>Tiled<br/>Lighting</p>
</div>
<div><img src="img/GBuffer.png"/>

</div>
<div><img src="img/FPTL1.png"/>

</div>
<div><img src="img/FPTL2.png"/>

</div>
<div><img src="img/FPTL3.png"/>

</div>
<div><img src="img/FPTL4.png"/>

</div>
<div><img src="img/GPUPro7.png"/>

</div>
<div><p>新しいライト形状<br/>
矩形ライト<br/>
線分ライト</p>
</div>
<div><img src="img/LightType.png"/>

</div>
<div><img src="img/LTC.png"/>

</div>
<div><p>すごく便利<br/>弱点：<br/>明るくなり過ぎがち</p>
</div>
<div><img src="img/SSAO.png"/>

</div>
<div><img src="img/LightValue.png"/>

</div>
<div><img src="img/VolumetricLight.png"/>

</div>
<div><p>半透明<br/>
Clustered Forward Shading</p>
</div>
<div><br/>

</div>
<div><p>メリットその２<br/>標準シェーダーがむちゃくちゃ強力</p>
</div>
<div><img src="img/Lit1.png"/>

</div>
<div><img src="img/Lit2.png"/>

</div>
<div><img src="img/Lit3.png"/>

</div>
<div><img src="img/Lit4.png"/>

</div>
<div><img src="img/Lit5.png"/>

</div>
<div><img src="img/Lit6.png"/>

</div>
<div><p>Subsurface Scattering<br/>表面下散乱</p>
</div>
<div><img src="img/SSS1.png"/>

</div>
<div><img src="img/SSS2.png"/>

</div>
<div><img src="img/SSS3.png"/>

</div>
<div><p>Thickness map<br/>xNormal<br/>Knald<br/>Substance Painter</p>
</div>
<div><img src="img/SSS4.png"/>

</div>
<div><p>Anisotropy<br/>異方性反射</p>
</div>
<div><img src="img/Anisotropy1.png"/>

</div>
<div><img src="img/Anisotropy2.png"/>

</div>
<div><img src="img/Anisotropy3.png"/>

</div>
<div><p>Iridescence<br/>虹色反射</p>
</div>
<div><img src="img/Iridescence.png"/>

</div>
<div><p>Bent Normal Mapping</p>
</div>
<div><img src="img/BentNormal1.png"/>

</div>
<div><img src="img/BentNormal2.png"/>

</div>
<div><p>Displacement Mapping</p>
</div>
<div><img src="img/Displacement1.png"/>

</div>
<div><img src="img/Displacement2.png"/>

</div>
<div><img src="img/Displacement3.png"/>

</div>
<div><p>Layered Material<br/>
レイヤー機能</p>
</div>
<div><img src="img/Layered1.png"/>

</div>
<div><img src="img/Layered2.png"/>

</div>
<div><img src="img/Layered3.png"/>

</div>
<div><p>メリットその３<br/>カスタマイズに<br/>フレンドリー</p>
</div>
<div><p>今までのUnity<br/>謎マクロ<br/>謎プラグマが暗躍</p>
</div>
<div><pre>#pragma surface surf Standard vertex:vert addshadow

void vert(inout appdata_full v, out Input data)
{
  UNITY_INITIALIZE_OUTPUT(Input, data);
  ...
}

void surf(Input IN, inout SurfaceOutputStandard o)
{
  ...
}</pre>

</div>
<div><p>関数、structを使った<br/>C言語風の実装<br/>充実した<br/>シェーダーライブラリ<br/></p>
</div>
<div><img style="width:49%" src="img/CustomShader1.gif"/>
<img style="width:49%" src="img/CustomShader2.gif"/>

<img style="width:49%" src="img/CustomShader3.gif"/>
<img style="width:49%" src="img/CustomShader4.gif"/>

</div>
<div><p><a href="https://github.com/Unity-Technologies/ScriptableRenderPipeline/blob/master/com.unity.render-pipelines.high-definition/HDRP/Material/Lit/Lit.shader">Lit.shader</a> をコピペして改造<br/>
<a href="https://github.com/Unity-Technologies/ScriptableRenderPipeline/blob/master/com.unity.render-pipelines.high-definition/HDRP/ShaderPass/VertMesh.hlsl">VertMesh.hlsl</a> や<br/>
<a href="https://github.com/Unity-Technologies/ScriptableRenderPipeline/blob/master/com.unity.render-pipelines.high-definition/HDRP/ShaderPass/ShaderPassGBuffer.hlsl">ShaderPassGBuffer.hlsl</a><br/>
なども改造ポイント</p>
</div>
<div><p>#define と<br/>#include の塊</p>
</div>
<div><p>ホワイトボックスなので<br/>諦めるポイントは少ない</p>
</div>
<div><p>HDRP<br/>導入検討の<br/>ポイント</p>
</div>
<div><p>で、もう<br/>完成してるの？<br/>使っていいの？</p>
</div>
<div><ul>
<li>未実装部分が少なくない</li>
<li>後方互換性が確立されていない</li>
</ul>
</div>
</body>
</html>
